<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ description }}">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/css/style.css">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PP6M3SZSVR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-PP6M3SZSVR');
    </script>
    
    <!-- AI Agent Referrer Tracking -->
    <script>
      (function() {
        var ua = navigator.userAgent || '';
        var ref = document.referrer || '';
        var aiSource = null;
        
        // Detect AI agents by User-Agent
        if (ua.includes('ChatGPT-User') || ua.includes('ChatGPT')) {
          aiSource = 'chatgpt';
        } else if (ua.includes('Claude') || ua.includes('Anthropic')) {
          aiSource = 'claude';
        } else if (ua.includes('PerplexityBot') || ua.includes('Perplexity')) {
          aiSource = 'perplexity';
        } else if (ua.includes('GPTBot')) {
          aiSource = 'openai_crawler';
        } else if (ua.includes('ClaudeBot') || ua.includes('anthropic-ai')) {
          aiSource = 'anthropic_crawler';
        } else if (ua.includes('Bard') || ua.includes('Gemini')) {
          aiSource = 'google_gemini';
        } else if (ref.includes('chat.openai.com')) {
          aiSource = 'chatgpt_referrer';
        } else if (ref.includes('claude.ai')) {
          aiSource = 'claude_referrer';
        } else if (ref.includes('perplexity.ai')) {
          aiSource = 'perplexity_referrer';
        }
        
        // Send custom event if AI agent detected
        if (aiSource) {
          gtag('event', 'ai_agent_visit', {
            'ai_source': aiSource,
            'page_path': window.location.pathname,
            'user_agent': ua
          });
          
          // Set custom dimension
          gtag('set', {'ai_visitor': aiSource});
          
          // Log to console for debugging
          console.log('AI Agent detected:', aiSource);
        }
      })();
    </script>
    
    <!-- Schema.org markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{{ schemaType | default('WebPage') }}",
      "name": "{{ title }}",
      "description": "{{ description }}",
      "url": "https://bughuntertools.com{{ page.url }}"
    }
    </script>
</head>
<body>
    <header>
        <div class="container">
            <h1>üîç <a href="/" style="color: white; text-decoration: none;">Bug Hunter Tools</a></h1>
            <p class="tagline">Professional Security Testing Tools for Bug Bounty Hunters</p>
            {% include "nav.njk" %}
        </div>
    </header>

    <main class="container">
        {{ content | safe }}
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Bug Hunter Tools. All rights reserved. | <a href="/privacy.html" style="color: white;">Privacy Policy</a></p>
        </div>
    </footer>
</body>
</html>
